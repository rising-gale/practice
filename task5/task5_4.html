
<!doctype html>

<html>
<head>
	<title>Структура DOM</title>
	<meta charset="utf-8">
	<script type="text/javascript">

	function showDOM() {
        const wnd = window.open('','','width=300,height=200,left=550,top=300');
        wnd.document.write('<!DOCTYPE html>');
        wnd.document.write('<html lang="en">');
		showChildNodes(document.head, wnd);
        showChildNodes(document.body, wnd);
        wnd.document.write('<\/body>');
        wnd.document.write('<\/html>');
      }
      function showChildNodes(node, doc) {
		// console.log(node.childNodes);
		if (node.children.length === 0) {
            doc.document.write(node.outerHTML);
            return;
        }
		doc.document.write(`<${node.localName}>`);
          doc.document.write(node.firstChild.data);
          for (let i = 0; node.children.length > i; i += 1) {
            showChildNodes(node.children[i], doc);
          }
          doc.document.write(`</${node.localName}>`);
        // showChildNodes(node.childNodes, doc);
	}
	</script>
</head>

<body>
	<h1>Структура DOM</h1>
	<div>
		<h2>Вывод структуры DOM</h2>
		<p>Этот код открывает новое окно и выводит в него структуру текущего документа</p>
	</div>
	<div>
		<h2>Запуск кода</h2>
		<p>Для запуска кода щелкните <a href="javascript:showDOM()">здесь</a></p>
	</div>

</body>
</html>
